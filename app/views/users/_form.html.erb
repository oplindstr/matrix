<%= form_for @user, :html => { :onsubmit => "return confirm('Oletko varma?')" } do |f| %>
  <% if @user.errors.any? %>
    <article class="message is-danger">
      <div class="message-body">
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    </article>
  <% end %>

  <h2 class="subtitle">Henkilötiedot</h2>

  <div class="field">
    <%= f.label :firstname, 'Etunimi', :class => 'label' %>
    <div class="control">
      <%= f.text_field :firstname, :class => 'input', :required => true %>
    </div>
    <% if @user.new_record? %>
      <p class="help is-danger">
        Pakollinen kenttä
      </p>
    <% end %>
  </div>

  <div class="field">
    <%= f.label :lastname, 'Sukunimi', :class => 'label' %>
    <div class="control">
      <%= f.text_field :lastname, :class => 'input', :required => true %>
    </div>
    <% if @user.new_record? %>
      <p class="help is-danger">
        Pakollinen kenttä
      </p>
    <% end %>
  </div>

  <div class="field">
    <%= f.label :email, 'Sähköpostiosoite', :class => 'label' %>
    <div class="control">
      <%= f.text_field :email, :class => 'input', :type => 'email', :required => true %>
    </div>
    <% if @user.new_record? %>
      <p class="help is-danger">
        Pakollinen kenttä
      </p>
    <% end %>
  </div>

  <div class="field">
    <%= f.label :city, 'Kotikunta', :class => 'label' %>
    <div class="control">
      <%= f.text_field :city, :class => 'input' %>
    </div>
  </div>

  <% if @user.new_record? %>

    <h2 class="subtitle">Käyttäjätiedot</h2>

    <div class="field">
      <%= f.label :username, 'Käyttäjätunnus', :class => 'label' %>
      <div class="control">
        <%= f.text_field :username, :class => 'input', :required => true %>
      </div>
      <% if @user.new_record? %>
        <p class="help is-danger">
          Pakollinen kenttä
        </p>
      <% end %>
    </div>

    <div class="field">
      <%= f.label :password, 'Salasana', :class => 'label' %>
      <div class="control">
        <%= f.password_field :password, :class => 'input', :required => true %>
      </div>
      <% if @user.new_record? %>
        <p class="help is-danger">
          Pakollinen kenttä
        </p>
      <% end %>
    </div>

    <div class="field">
      <%= f.label :password_confirmation, 'Salasana uudelleen', :class => 'label' %>
      <div class="control">
        <%= f.password_field :password_confirmation, :class => 'input', :required => true %>
      </div>
      <% if @user.new_record? %>
        <p class="help is-danger">
          Pakollinen kenttä
        </p>
      <% end %>
    </div>

  <% end %>

  <h2 class="subtitle">Muut tiedot</h2>

  <div class="field">
    <label class="checkbox">
      <%= f.check_box :hyy_member %>
      Opiskelen Helsingin Yliopistossa tutkinto- tai jatko-opiskelijana
    </label>
  </div>

  <div class="field">
    <label class="checkbox">
      <%= f.check_box :mathstudent %>
      Opiskelen jossain Helsingin yliopiston Matemaattis-luonnontieteellisen tiedekunnan vastuulla olevassa koulutusohjelmassa
    </label>
  </div>

  <div class="field">
    <label class="checkbox">
      <%= f.check_box :admin %>
      Admin (tässä vielä testaamisen vuoksi)
    </label>
  </div>

  <div class="field">
    <div class="control">
      <%= f.submit :value => 'Tallenna', :class => 'button is-link' %>
    </div>
  </div>
<% end %>
