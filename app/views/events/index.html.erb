<p id="notice"><%= notice %></p>

<h1 class="middle">Tapahtumakalenteri</h1>

<div ng-controller="EventsController">

  <div id="Events" class="container-fluid">

    <div class="col-md-4"></div>
    <div class="Events col-md-4">

      <span>Näytä:</span>
      <select name="EventSelect" id="EventSelect" ng-model="show">
        <option selected value="upcoming">Tulevat tapahtumat</option>
        <option value="past">Menneet tapahtumat</option>
        <option value="all">Kaikki tapahtumat</option>
      </select>

      <p></p>

      <div class="allEvents" ng-show="show == 'all'">

        <p class="middle" ng-show="events.length === 0">Ei tapahtumia</p>

        <div class="Event" ng-repeat="event in events">
          <div class="EventFields">
              <b class="Eventname"><a href="events/{{event.id}}">{{event.name}}</a></b><br>
              <span class="Eventfield">Aika:</span> <span class="Eventfield">{{event.starttime}}</span><br>
              Paikka: {{event.location}}<br>
              Hinta: <span ng-if="!event.price">Ei maksua</span>{{event.price}}<br>
              <p></p>
              <p>{{event.descr}}</p>
              <p></p>
          </div>

          <br>
        </div>


      </div>

      <div class="upcomingEvents" ng-show="show == 'upcoming'">

        <p class="middle" ng-show="upcomingEvents.length === 0">Ei tulevia tapahtumia</p>

        <div class="Event" ng-repeat="event in upcomingEvents">
          <div class="EventFields">
              <b class="Eventname"><a href="events/{{event.id}}">{{event.name}}</a></b><br>
              <span class="Eventfield">Aika:</span> <span class="Eventfield">{{event.starttime}}</span><br>
              Paikka: {{event.location}}<br>
              Hinta: <span ng-if="!event.price">Ei maksua</span>{{event.price}}<br>
              <p></p>
              <p>{{event.descr}}</p>
              <p></p>
          </div>
          <br>
        </div>

      </div>

      <div class="pastEvents" ng-show="show == 'past'">

        <p class="middle" ng-show="pastEvents.length === 0">Ei menneitä tapahtumia</p>

        <div class="Event" ng-repeat="event in pastEvents">
          <div class="EventFields">
              <b class="Eventname"><a href="events/{{event.id}}">{{event.name}}</a></b><br>
              <span class="Eventfield">Aika:</span> <span class="Eventfield">{{event.starttime}}</span><br>
              Paikka: {{event.location}}<br>
              Hinta: <span ng-if="!event.price">Ei maksua</span>{{event.price}}<br>
              <p></p>
              <p>{{event.descr}}</p>
              <p></p>
          </div>
          <br>
        </div>

      </div>

      <p></p>

      <% if admin %>

          <%= link_to 'Lisää tapahtuma', new_event_path %>

      <% end %>

    </div>
    <div class="col-md-4"></div>

  </div>

</div>